#:kivy 1.0.9
#:import Factory kivy.factory.Factory
<FormBase>
    name_input: nameInput
    dropDown_button: mainButton
    canvas.before:
        Color:
            rgba: [0.95, 1, 1, 0.9]
        Rectangle:
            size: self.size
            pos: self.pos

    FloatLayout:
        Label:
            text: 'New Battle'
            color: (0, 0, 0, 1)
            pos: (root.width/2.5), (root.height / 1.2)
            font_name:"pixel"
            font_size: root.height / 10
        Label:
            text: 'Enemy Name'
            color: (0, 0, 0, 1)
            pos: (root.width/2.7), (root.height / 1.45)
            font_name:"pixel"
            font_size: root.height / 20
        TextInput:
            id: nameInput
            pos:  (root.width/8), (root.height / 1.6)
            background_color: 1, 1, 1, 0.7
            font_name: 'pixel'
            size_hint: None, None
            size: (root.width / 1.5),(root.height / 15)
            multiline: False
            font_size: root.height / 20
            cursor_color: 0, 0, 0, 1
            selection_color: [0.285, 0.29, 1, 0.3]
            hint_text: "..."
            padding_left: 20
            canvas.before:
                Color:
                    rgba: 0, 0, 0, 1
                Line:
                    width: 2
                    rectangle: self.x, self.y, self.width, self.height
        Label:
            text: 'Emotion Type'
            color: (0, 0, 0, 1)
            pos: (root.width/2.7), (root.height / 2)
            font_name:"pixel"
            font_size: root.height / 20
        EmotionPicker:
            pos: (root.width/8), (root.height / 2.3)
            size: (root.width / 1.5),( root.height / 15)
            size_hint_y: None
            size_hint_x: None
        Button:
            id: mainButton
            text: 'Confirm'
            font_name:"pixel"
            font_size: root.height / 20
            size_hint: None, None
            size: (root.width / 2.5), (root.height / 11)
            pos: (root.width/3.5), (root.height / 7)
            on_press: root.name_selection()         #root.test()
            background_normal: ''
            background_color: 0, 0.47, 0, 1
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                Line:
                    width: 2
                    rectangle: self.x, self.y, self.width, self.height

<MySpinnerOption@SpinnerOption>:
    background_color: 1, 1, 1, 0.5
    font_name: 'pixel'
    color: 0, 0, 0, 1
    font_size: root.height / 1.5
    background_normal: ''
    canvas.before:
        Color:
            rgba: 0, 0, 0, 1
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height

<EmotionPicker>
    font_size: root.height / 1.5
    text: 'Pick an emotion'
    values: 'Anger', 'Sadness', 'Fear'
    on_text: self.emotion_selection()
    background_normal: ''
    background_color: 1, 1, 1, 0.5
    font_name: 'pixel'
    color: 0, 0, 0, 1
    option_cls: Factory.get("MySpinnerOption")
    canvas.before:
        Color:
            rgba: 0, 0, 0, 1
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height
